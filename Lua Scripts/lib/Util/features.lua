---@region: lua features

---@region: requirements

require("AsunaTils/utils")

local cages = {
    1692612370,
    379820688,
    -779638860,
    3515328436,
    138278167,
    1533556199,
    2138176025,
    1337911167,
    86064437,
    779277682,
    -1004830663,
    3290136633,
    1688773919,
    -1234220885,
    3060746411,
    -930747176,
    3364220120,
    -1698655922,
    2596311374,
    -1992528326,
    2302438970,
    1603346205,
    -2007868701,
    2287098595,
    169991796,
    -1662909450,
    2632057846,
    894554243,
    1025978577,
    1326581024,
    -528704006,
    3766263290,
    237402445,
    -1235332710,
    3059634586,
    2081936690,
    -1170462683,
    3124504613,
    1322181531,
    993442923,
    1124049486,
    1125864094,
    -1585415771,
    2709551525,
    2063962179,
    1396140175,
    959275690,

}

local cynical_ent = {
    -442313018, --towtruck
    1349725314, --vehicle
    0xD7114C9, --player_zero
    0x705E61F2, --freemode
}

local femboy = {
-1020918645,
-744062923,
-1402204478,
-979388144,
521727704,
699524808,
-1946063584,
1178629347,
1358311090,
1154852585,
1310986203,
-40847318,
643078607,
1992208603,
1752574721,
912885596,
1381048616,
1990572980,
-2106994199,
689178114,
1138171492,
1704029734,
-264140477,
7194932,
1724437687,
-936043730,
1246736526,
-1830601824,
-1081859810,
1916687397,
645964512,
1280286772,
-319623026,
-1774948616,
-1692385791,
-890479893,
-209964813,
1849048398,
1821665681,
1523360013,
-134517492,
809515035,
-848503500,
637726153,
1435588721,
-1530876828,
1241563604,
1997868686,
1204422451,
1690141969,
592859285,
-1233326488,
-1370555350,
-1476617592,
-1488135877,
1014637718,
-164715828,
-1355397705,
391530867,
721389992,
1903175301,
54080196,
1843011800,
-1344943948,
-1530692143,
-1774405356,
1323418434,
-769497109,
1339791014,
-866448721,
318737562,
1101934106,
1086826029,
-2143357669,
-523143632,
682666916,
-286082734,
-1317931763,
-853229590,
1705697128,
-1538398747,
-1013675809,
-1636931911,
686041060,
-775323166,
53185293,
312888440,
-1048310207,
1289803407,
1880156910,
-354370119,
155406806,
-1678006840,
1059917272,
-803052325,
1914235728,
1201782980,
1062837153,
-2072347577,
-781928854,
-931565749,
-1408108046,
165771741,
-1321780445,
-22225512,
-2129584942,
-1868112058,
218552651,
1985746964,
1080374994,
1567211575,
-1127630859,
1240089509,
577690197,
-1498220699,
1806910878,
1977077611,
1359589585,
1171104057,
1010044380,
-118624111,
-198990709,
-1269681122,
-393294977,
-142117497,
-591557771,
939590342,
1240053611,
-542572166,
2004413818,
-1249576871,
-1081059626,
1702541153,
160832359,
869574944,
1812609806,
1742672561,
-854233377,
-223879883,
-1973346552,
-615536014,
-155076576,
1758833487,
-1163995160,
91922191,
-1113591308,
-2079521652,
1010148135,
-1603758683,
-1564027124,
2025562671,
434620279,
1787604077,
-453322515,
-1777438880,
-439985365,
-1267886285,
882590859,
1187511629,
453765971,
-1248267178,
-113171830,
-1809326806,
1728435622,
-1496601475,
1788863165,
-1643758344,
980511777,
1541697920,
-293236205,
-2045628228,
-1469019744,
-616977148,
-1269285510,
1937950826,
-19244849,
1610198713,
1131952305,
-543685796,
1457441188,
1848443186,
-1483156346,
-1988274527,
-1771709808,
1459767362,
517318842,
288774761,
866966274,
-449255008,
1160415507,
198210293,
173130779,
1160415507,
1553945504,
639967857,
-1396457166,
-956255885,
677240627,
-1061742115,
-861589405,
-1229242825,
-1716929373,
801199324,
470437478,
-759876757,
846342319,
1498409190,
-903578754,
990606644,
436475575,
33622745,
-1004984903,
1632257529,
935153350,
449084041,
-1092487927,
-1464683798,
1340710022,
-510220924,
-329059601,
-368423380,
-1878337912,
-300035648,
-1436897407,
-195247709,
-1233352813,
-1422084449,
1132878564,
-1290632586,
-1307162628,
1903866949,
-68354216,
127278285,
744614232,
-1715193475,
2112408256,
999206981,
-486420527,
-1981816062,
927169576,
578856274,
1171686015,
-210719602,
613598296,
-1895406474,
-727072915,
1582169196,
911121765,
-350734161,
1572255940,
69874647,
1294995624,
354106306,
802133775,
-91354030,
389634423,
-1629430060,
924535804,
-1782442696,
-2091335671,
-391633760,
252711156,
104546633,
-621812018,
-65587051,
1116398805,
1514515570,
-972519224,
2100148373,
-1975131531,
-1399847686,
-1704141512,
-2113023004,
-154821928,
-143116395,
-488349268,
-145306724,
-439785231,
296518236,
911179316,
-317318371,
665075435,
-1872092614,
125492983,
-10584126,
-1766066400,
-786546101,
-1525161016,
-1030012311,
-1367466623,
-857055591,
-1026787486,
-1676389891,
393,
-1402943861,
-980869764,
-522517025,
-660428494,
194348342,
-1672632969,
637990725,
-39307858,
1915516637,
-292927152,
-1321808667,
193360559,
1474930020,
1216755327,
1219394502,
-427680601,
704979198,
1673015603,
514531643,
-371781708,
-1686096923,
-1431495660,
24150149,
-156144612,
-17252370,
-614457627,
1246667869,
-1813921147,
1375585828,
892426264,
1695733171,
756750404,
-120329143,
1897451017,
-1392472400,
262065148,
1736319472,
1856470832,
-1826883729,
1226685750,
726324704,
-931193632,
1786176568,
-1312879439,
-594101085,
2125250083,
-1537719898,
-695930999,
537760938,
94424757,
1514330666,
-1057714896,
1327000392,
-1981664248,
745513842,
1310375266,
-1892343528,
-835116031,
-1335321822,
-1208585385,
-586564007,
725663716,
-1028896607,
1887715261,
-569621836,
1494472464,
1560273502,
1213478059,
-1948352103,
-123017678,
-518094689,
1765370359,
-1846290480,
747270864,
-990958325,
792605141,
-2065406127,
1293356309,
2055309431,
959741220,
948476291,
1667912884,
973384593,
1322653555,
1983831220,
2035029994,
1685428989,
-1881985419,
-2084766469,
-1581374996,
-1027219536,
1456985457,
-965422298,
-374648715,
-1593328306,
-399817245,
605734688,
1618540540,
-1056683619,
145350701,
-102469555,
-1245088727,
-206137320,
-1991317864,
-2085853000,
-2085033931,
-1702264142,
1999649849,
-319251612,
916721383,
1193641249,
843683007,
2140747899,
603406648,
1861592619,
-323225852,
-823334279,
-1386010354,
962740265,
-242781845,
1716771531,
-1013653994,
-1617444053,
-694031333,
1658337260,
1189947075,
2002459655,
1859708311,
-1887269275,
985284033,
287021706,
248967238,
1890624026,
1763436095,
-1020081720,
-1071325787,
1836137561,
1800955959,
1890277845,
657959395,
1722873242,
1114091621,
1644680339,
1759776242,
-2042927980,
-1195677176,
-1470529744,
-555177382,
1711742823,
-1483860044,
-480773441,
-945112313,
1181272075,
-160010589,
1989580036,
470899337,
1481806247,
-225522261,
338377244,
-1141953949,
373340885,
1445703181,
1767220965,
-1069875050,
-686546819,
1138543926,
730048565,
-330288802,
357740145,
367823892,
-1093866525,
-581037897,
1757755807,
1258808115,
-1205085020,
1195953488,
-290218924,
1902624891,
-1211206539,
-1308840134,
-446275082,
1695663635,
-540733954,
555805165,
-943413695,
657090120,
-764524031,
-780184517,
-211216577,
703680251,
-890540460,
-994045023,
-1540254019,
907247199,
1366634967,
-636728804,
-227800145,
-1598754565,
-1970125962,
844746317,
1242938933,
150518680,
922450413,
526046459,
-1277554447,
-621279188,
894434968,
-1402098061,
-1767058336,
-1917539378,
522189882,
1408934068,
25093741,
100413140,
1539285108,
-2094168155,
1989086656,
1374270767,
-442909224,
-402477535,
110511020,
-1055758293,
-83272757,
-33103987,
-465916800,
-1787741241,
-233163280,
394024783,
-422308928,
717371311,
-615565347,
858081640,
-1012245580,
-1272736485,
707492193,
957803617,
-1159204706,
-1125867895,
-836299692,
-1717268320,
2020588206,
-375285626,
-520925154,
-986621843,
163598572,
998716537,
-1501164935,
-1013679841,
-737858645,
1228916411,
21248229,
-533358540,
-2019427315,
1579609637,
-1909265597,
1033173948,
1000228518,
-1605670950,
434912098,
1068259786,
995853474,
-1536413542,
1778752151,
1118870869,
730041833,
566444487,
-519771910,
-1675759720,
1136389718,
1463943751,
-393294520,
-1316853138,
-1887741671,
2063566238,
1733942855,
1682921534,
1138890584,
1799359257
}


---@region: features

--> self

godmode = function(state)

    local player_index = player_index(players.user())

    if state == true then
        ENTITY.SET_ENTITY_PROOFS(player_index, true, true, true, true, true, false, 1, false)
    else
        ENTITY.SET_ENTITY_PROOFS(player_index, false, false, false, false, false, false, 1, false)
    end
end

random_outfit = function()

    local player_index = player_index(players.user())

    PED.SET_PED_RANDOM_COMPONENT_VARIATION(player_index, 0)
    PED.SET_PED_RANDOM_PROPS(player_index)
end

changer = function()

    request_stream_of_entity(0x72C0CAD2, 5)

    PLAYER.SET_PLAYER_MODEL(players.user(), 0x72C0CAD2)

    util.yield(1000)

    menu.trigger_commands("hair 1")
end

current_vehicle = function()

    log(players.get_vehicle_model(players.user()))
end

--> misc

clear_area = function()
    
    local objects = entities.get_all_objects_as_handles()

	for i, v in pairs(objects) do
		ENTITY.SET_ENTITY_AS_MISSION_ENTITY(v, true, true)
		entities.delete_by_handle(v)
	end

    local vehicles = entities.get_all_vehicles_as_handles()

	for i, v in pairs(vehicles) do
		ENTITY.SET_ENTITY_AS_MISSION_ENTITY(v, true, true)
		entities.delete_by_handle(v)
	end

    local peds = entities.get_all_peds_as_handles()

	for i, v in pairs(peds) do
		if ped ~= PLAYER.PLAYER_PED_ID() then
            ENTITY.SET_ENTITY_AS_MISSION_ENTITY(v, true, true)
            entities.delete_by_handle(v)
		end
	end
    util.yield()
end

--> protection
cage_protection = function()

    local objects = entities.get_all_objects_as_handles()

    for i, v in pairs(objects) do

        local model = ENTITY.GET_ENTITY_MODEL(v)
        
        for d, cage in pairs(cages) do

            if model == cage then

                --if not get_entity_owner(v) == players.user() then

                    notify("Blocked a Cage (Hash-->" .. cage .. " | ObjectID--> ".. v ..")" , "Protection", "CHAR_BLOCKED", "~r~")
                    log("Blocked a Cage (Hash-->" .. cage .. " | ObjectID--> ".. v ..")")

                    
                    entities.delete_by_handle(v)

                --end
            end
        end
    end
end

noclip_detection = function()

    for i = 1, 32 do
        if players.exists(i) and not players.is_in_interior(i) and not i == players.user() then
            
            local coords = player_coords(i)
            local player_index = player_index(i)

            local success, ground_z = util.get_ground_z(coords.x, coords.y, coords.z, 1500)

            if success and ground_z + 40 < coords.z and not PED.IS_PED_IN_ANY_HELI(player_index) and not PED.IS_PED_IN_ANY_PLANE(player_index) and not PED.IS_PED_RAGDOLL(player_index) and not ENTITY.IS_ENTITY_IN_WATER(player_index) and not ENTITY.IS_ENTITY_IN_AIR(player_index)
            and not TASK.GET_IS_TASK_ACTIVE(player_index, 16) and not TASK.GET_IS_TASK_ACTIVE(player_index, 17) and not TASK.GET_IS_TASK_ACTIVE(player_index, 18) 
            and not TASK.GET_IS_TASK_ACTIVE(player_index, 19) and not TASK.GET_IS_TASK_ACTIVE(player_index, 54) and not TASK.GET_IS_TASK_ACTIVE(player_index, 152) 
            and not TASK.GET_IS_TASK_ACTIVE(player_index, 162) and not TASK.GET_IS_TASK_ACTIVE(player_index, 176) and not TASK.GET_IS_TASK_ACTIVE(player_index, 177) 
            and not TASK.GET_IS_TASK_ACTIVE(player_index, 178) and not TASK.GET_IS_TASK_ACTIVE(player_index, 179) and not TASK.GET_IS_TASK_ACTIVE(player_index, 180) 
            and not TASK.GET_IS_TASK_ACTIVE(player_index, 335) and not TASK.GET_IS_TASK_ACTIVE(player_index, 422) and not TASK.GET_IS_TASK_ACTIVE(player_index, 423) then

                if PED.IS_PED_IN_ANY_VEHICLE(player_index) then
                    if ENTITY.GET_ENTITY_MODEL(get_player_vehicle(i, false)) == 1483171323 or 2069146067 or 884483972 then
                        goto replay
                    end
                end
                notify("Noclip Detected -->" .. PLAYER.GET_PLAYER_NAME(i), "Detection", "CHAR_BLOCKED", "~r~")
                log("Possible Noclip Detected from UID-->" .. i .. " Username-->" .. PLAYER.GET_PLAYER_NAME(i))
            end
        end
    end
    ::replay::
    util.yield()
end

--> vehicle
apply_force_to_vehicle = function(pid, x, y, z)
    
    local vehicle = get_player_vehicle(pid, true)

    util.yield()

    if vehicle ~= 0 then
        ENTITY.APPLY_FORCE_TO_ENTITY_CENTER_OF_MASS(vehicle, 1, x, y, z, true, false, true)
    end
end

teleport_vehicle = function(pid, x, y, z)

    local vehicle = get_player_vehicle(pid, true)

    util.yield()

    if vehicle ~= 0 then
        ENTITY.SET_ENTITY_COORDS_NO_OFFSET(vehicle, x, y, z, 0, 0, 1)
    end
end

phone_explode_vehicle = function(pid)

    local vehicle = get_player_vehicle(pid, false)

    if vehicle ~= 0 then
        VEHICLE.ADD_VEHICLE_PHONE_EXPLOSIVE_DEVICE(vehicle)
        VEHICLE.DETONATE_VEHICLE_PHONE_EXPLOSIVE_DEVICE()
    end
end

kill_vehicle_engine = function(pid)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        VEHICLE.SET_VEHICLE_ENGINE_HEALTH(vehicle, -4000)
		VEHICLE.SET_VEHICLE_BODY_HEALTH(vehicle, -4000)
		VEHICLE.SET_VEHICLE_PETROL_TANK_HEALTH(vehicle, -4000)
    end
end

set_vehicle_invincible_state = function(pid, state)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        ENTITY.SET_ENTITY_INVINCIBLE(vehicle, state)
    end
end

set_vehicle_invisibe_state = function(pid, state)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        ENTITY.SET_ENTITY_VISIBLE(vehicle, state, 0)
    end
end

repair_vehicle = function(pid)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        VEHICLE.SET_VEHICLE_FIXED(vehicle)
    end
end

set_vehicle_speed = function(pid, speed)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        VEHICLE.MODIFY_VEHICLE_TOP_SPEED(vehicle, speed)
    end
end

reduce_vehicle_grip = function(pid)

    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        VEHICLE.SET_VEHICLE_REDUCE_GRIP(vehicle, true)
        VEHICLE._SET_VEHICLE_REDUCE_TRACTION(vehicle, 1000)
    end
end

remove_vehicle_windows = function(pid)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        for i = 1, 7 do
            VEHICLE.REMOVE_VEHICLE_WINDOW(vehicle, i)
        end
    end
end

roll_down_vehicle_windows = function(pid)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        VEHICLE.ROLL_DOWN_WINDOWS(vehicle)
    end
end

roll_up_vehicle_windows = function(pid)

    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        for i = 1, 7 do
            VEHICLE.ROLL_UP_WINDOW(vehicle, i)
        end
    end
end

smash_vehicle_windows = function(pid)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        for i = 1, 7 do
            VEHICLE.SMASH_VEHICLE_WINDOW(vehicle, i)
            util.yield()
        end
    end
end

fix_vehicle_windows = function(pid)
    
    local vehicle = get_player_vehicle(pid, true)

    if vehicle ~= 0 then
        for i = 1, 7 do
            VEHICLE.FIX_VEHICLE_WINDOW(vehicle, i)
            util.yield()
        end
    end
end

set_vehicle_door_open_state = function(pid, state)

    local vehicle = get_player_vehicle(pid, true)

    for i = 1, 7 do
        if state == true then
            VEHICLE.SET_VEHICLE_DOOR_OPEN(vehicle, i, false, true)
        else
            VEHICLE.SET_VEHICLE_DOOR_SHUT(vehicle, i, false)
        end
    end
end

break_vehicle_doors = function(pid)

    local vehicle = get_player_vehicle(pid, true)

    for i = 1, 7 do
        VEHICLE.SET_VEHICLE_DOOR_BROKEN(vehicle, i, false)
    end
end

task_vehicle_temp_action = function(pid, action, time)

    local player_index = player_index(pid)
    local vehicle = get_player_vehicle(pid, false)

    if vehicle ~= 0 then
        TASK.TASK_VEHICLE_TEMP_ACTION(player_index, vehicle, action, time)
    end
end

-->trolling & griefing

--<Script Events>
cayo_original = function(pid)
    
    util.trigger_script_event(1 << pid, {-621279188, pid, 1})
end

cayo_beach_party_plane = function(pid)
    
    util.trigger_script_event(1 << pid, {1463943751, pid, pid, pid, 3, 1})
end

cayo_beach_party_instant = function(pid)
    
    util.trigger_script_event(1 << pid, {1463943751, pid, pid, pid, 4, 1})
end

cayo_airport = function(pid)
    
    util.trigger_script_event(1 << pid, {1463943751, pid, pid, pid, 3, 0})
end

cayo_beach = function(pid)
    
    util.trigger_script_event(1 << pid, {1463943751, pid, pid, pid, 4, 0})
end

warehouse = function(pid)
    
    util.trigger_script_event(1 << pid, {-446275082, pid, 0, 1, math.random(1, 22)})
end

casino_cutscene = function(pid)
    
    util.trigger_script_event(1 << pid, {0x3FAC59CA, pid})
end

infinite_loading_screen = function(pid)

    util.trigger_script_event(1 << pid, {603406648, pid, 217})
    util.trigger_script_event(1 << pid, {962740265, pid, math.random(1, 12)})
end

script_freeze = function(pid)

    util.trigger_script_event(1 << pid, {1463943751, pid})
end

cash_removed = function(pid)

    util.trigger_script_event(1 << pid, {677240627, pid, 689178114, math.random(0, 2147483647)})
end

cash_stolen = function(pid)

    util.trigger_script_event(1 << pid, {677240627, pid, 2187973097, math.random(0, 2147483647)})
end

cash_banked = function(pid)

    util.trigger_script_event(1 << pid, {677240627, pid, 1990572980, math.random(0, 2147483647)})
end

insurance = function(pid)

    util.trigger_script_event(1 << pid, {802133775, pid, math.random(0, 2147483647)})
end

vehicle_disable_drive = function(pid)

    util.trigger_script_event(1 << pid, {578856274, pid, 2, 4294967295, 1, 115, 0, 0, 0})
end

vehicle_emp = function(pid)

    local coords = player_coords(pid)
    util.trigger_script_event(1 << pid, {-2042927980, pid, math.ceil(coords.x), math.ceil(coords.y), math.ceil(coords.z)})
end

vehicle_destroy = function(pid)

    util.trigger_script_event(1 << pid, {-1026787486, pid})
    util.trigger_script_event(1 << pid, {-1026787486, pid, 4294967295, 4294967295, 4294967295})
end
--<Script Events>

vehicle_spam = function(pid, hash, value)
    
    request_stream_of_entity(hash, 5)

    local coords = player_coords(pid)

    for i = 1, value do
        entities.create_vehicle(hash, coords, 0.0)
    end
end

ped_spam = function(pid, type, hash, value)
    
    request_stream_of_entity(hash, 5)

    local coords = player_coords(pid)

    for i = 1, value do
        entities.create_ped(type, hash, coords, 0.0)
    end
end

ptfx_lag = function(pid)
    

    local player_index = player_index(pid)

    GRAPHICS.USE_PARTICLE_FX_ASSET("scr_agencyheistb")
    request_stream_of_ptfx("scr_agencyheistb", 5)
    
    GRAPHICS.START_PARTICLE_FX_NON_LOOPED_ON_ENTITY("scr_agency3b_heli_expl", player_index, 0, 0, 0, 0, 0, 0, math.random(5, 10), true, true, true)
    GRAPHICS.START_PARTICLE_FX_NON_LOOPED_ON_ENTITY("scr_agency3b_elec_box", player_index, 0, 0, 0, 0, 0, 0, math.random(5, 10), true, true, true)

    STREAMING.REMOVE_NAMED_PTFX_ASSET("scr_agencyheistb")
end


explosion = function(pid)

    local coords = player_coords(pid)

    FIRE.ADD_EXPLOSION(coords.x, coords.y, coords.z, 0, 1000, true, false, 1, false)
end

fire = function(pid)

    local coords = player_coords(pid)

    FIRE.ADD_EXPLOSION(coords.x, coords.y, coords.z, 3, 10, true, false, 1, false)
end

water = function(pid)

    local coords = player_coords(pid)

    FIRE.ADD_EXPLOSION(coords.x, coords.y, coords.z, 13, 1, true, false, 1, false)
end

stomp_player = function(pid)

    request_stream_of_entity(-692292317, 5)

    local coords = player_coords(pid)
    coords.z = coords.z + 15

    stomp = entities.create_vehicle(-692292317, coords, 0.0)

    util.yield(2000)

    entities.delete_by_handle(stomp)
end

atomize = function(pid)

    local coords = player_coords(pid)

    WEAPON.GIVE_DELAYED_WEAPON_TO_PED(player_index(players.user()), -1355376991, 200, true)

    MISC.SHOOT_SINGLE_BULLET_BETWEEN_COORDS(coords.x + math.random(-5, 5), coords.y + math.random(-5, 5), coords.z + math.random(3, 10), coords.x, coords.y, coords.z, 0, 100, util.joaat("weapon_raypistol"), player_index(players.user()), true, false, 1000)
end

emp = function(pid)

    local coords = player_coords(pid)

    WEAPON.GIVE_DELAYED_WEAPON_TO_PED(player_index(players.user()), 0xDB26713A, 200, true)

    MISC.SHOOT_SINGLE_BULLET_BETWEEN_COORDS(coords.x + math.random(-5, 5), coords.y + math.random(-5, 5), coords.z + math.random(3, 10), coords.x, coords.y, coords.z, 0, 100, util.joaat("weapon_emplauncher"), player_index(players.user()), true, false, 1000)
end

car_jacker = function(pid)

    local vehicle = get_player_vehicle(pid, false)
    local coords = ENTITY.GET_OFFSET_FROM_ENTITY_IN_WORLD_COORDS(vehicle, -2.0, 0.0, 0.1)

    ENTITY.SET_ENTITY_VELOCITY(vehicle, 0, 0, 0)

    local ped = PED.CREATE_RANDOM_PED(coords.x, coords.y, coords.z)

    TASK.TASK_SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(ped, true)
    PED.SET_BLOCKING_OF_NON_TEMPORARY_EVENTS(ped, true)
    VEHICLE.SET_VEHICLE_ENGINE_ON(vehicle, true, true)
    TASK.TASK_ENTER_VEHICLE(ped, vehicle, -1, -1, 1.0, 24)

    util.yield(20)
    VEHICLE.SET_VEHICLE_DOORS_LOCKED_FOR_ALL_PLAYERS(vehicle, true)

    for _ = 1, 20 do
        TASK.TASK_VEHICLE_DRIVE_WANDER(ped, vehicle, 100.0, 2883621)
        util.yield(50)
    end
end


tube_cage_player = function(pid, hash)
    
    request_stream_of_entity(hash, 5)

    local coords = player_coords(pid)

    cage = OBJECT.CREATE_OBJECT_NO_OFFSET(hash, coords.x, coords.y, coords.z, true, false, false)
    ENTITY.SET_ENTITY_ROTATION(cage, 0.0, 90.0, 0.0, 1, true)
end

special_cage_player = function(pid)

    request_stream_of_entity(779277682, 5)

    local coords = player_coords(pid)

    cage = OBJECT.CREATE_OBJECT_NO_OFFSET(779277682, coords.x, coords.y, coords.z, true, false, false)
	ENTITY.SET_ENTITY_ROTATION(cage, 0.0, -90.0, 0.0, 1, true)
	cage = OBJECT.CREATE_OBJECT_NO_OFFSET(779277682, coords.x, coords.y, coords.z, true, false, false)
	ENTITY.SET_ENTITY_ROTATION(cage, 0.0, 90.0, 0.0, 1, true)
end

-->Crashes & Kicks

femboy_kick = function(pid)

    local arg1 = math.random(-2147483647, 2147483647)
    local arg2 = math.random(-10000, 10000)
    local arg3 = math.random(-10, 10)

    notify("Kicking " .. PLAYER.GET_PLAYER_NAME(pid) .. " like a Femboy", "Kick", "CHAR_MP_STRIPCLUB_PR", "~b~")
    log("Kicking (Username-->" .. PLAYER.GET_PLAYER_NAME(pid) .. " UID-->" .. pid .. ") like a Femboy")

    for i, v in pairs(femboy) do
        if players.exists(pid) then
            util.trigger_script_event(1 << pid, {v, pid, arg1, arg2, arg3, arg3, arg1, arg2, arg1, arg2, arg3, arg3, arg2, arg3, arg1, arg1, arg1, arg1, arg2, arg1, arg3, arg3, arg2, arg3, arg2, arg1})
            util.yield(10)
        else 
            goto bad_player
        end
    end

    ::bad_player::
end

network_bail = function(pid)

    notify("Bailing " .. PLAYER.GET_PLAYER_NAME(pid), "Kick", "CHAR_MP_STRIPCLUB_PR", "~b~")
    log("Bailing (Username-->" .. PLAYER.GET_PLAYER_NAME(pid) .. " UID-->" .. pid .. ")")
    util.trigger_script_event(1 << pid, {1228916411, pid, memory.read_int(memory.script_global(1892703 + (1 + (pid * 599) + 510)))})
    
end

cynical = function(pid)

    notify("Sending Cynical Crash to " .. PLAYER.GET_PLAYER_NAME(pid), "Crash", "CHAR_MP_STRIPCLUB_PR", "~b~")
    log("Sending Cynical Crash to (Username-->" .. PLAYER.GET_PLAYER_NAME(pid) .. " UID-->" .. pid .. ")")
    for i = 1, 4 do
        request_stream_of_entity(cynical_ent[i], 5)
    end

    util.yield(3000)

    menu.trigger_commands("saveoutfit 187istdiegang")

    local _player_index = player_index(pid)
    local __player_index = player_index(players.user())
    local coords = player_coords(pid)


    vehicle = entities.create_vehicle(1349725314, coords, 0.0)
    VEHICLE.SET_VEHICLE_MOD(vehicle, 48, 0, false)


    ENTITY.SET_ENTITY_COORDS_NO_OFFSET(__player_index, coords.x, coords.y, coords.z, true, false, false, false)

    PED.SET_PED_COMPONENT_VARIATION(__player_index, 3, 393, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 8, 189, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 6, 102, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 4, 144, 0, 0)

    util.yield(100)

    PED.SET_PED_COMPONENT_VARIATION(__player_index, 0, 45, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 1, 197, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 2, 76, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 3, 196, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 4, 144, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 5, 99, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 6, 102, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 7, 151, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 8, 189, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 9, 56, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 10, 132, 0, 0)
    PED.SET_PED_COMPONENT_VARIATION(__player_index, 11, 393, 0, 0)

    util.yield(100)


    if PED.IS_PED_IN_ANY_VEHICLE(_player_index, true) then
        task_vehicle_temp_action(pid, 15, 1000)
    end


    local attachments = entities.get_all_vehicles_as_handles()
    towtruck = entities.create_vehicle(-442313018, coords, 0.0)

    for i, v in pairs(attachments) do
        ENTITY.SET_ENTITY_VISIBLE(towtruck, false, 0)
        ENTITY.SET_ENTITY_VISIBLE(v, false, 0)
        ENTITY.ATTACH_ENTITY_TO_ENTITY(v, towtruck, 0, 0, 0, 0, 0, 0, 0, true, true, false, 0, true)
    end

    util.yield(1000)

    for i, v in pairs(attachments) do
        entities.delete_by_handle(v)
    end
    entities.delete_by_handle(vehicle)
    menu.trigger_commands("outfit187istdiegang")
end

pluto = function(pid)

    local time = util.current_time_millis() + 2000
    while time > util.current_time_millis() do
        for i = 1, 10 do
            coords = player_coords(pid)
            AUDIO.PLAY_SOUND_FROM_COORD(-1, "MP_AWARD", coords.x, coords.y, coords.z, "HUD_FRONTEND_DEFAULT_SOUNDSET", true, 10, false)
        end
        util.yield()
    end
    local time = util.current_time_millis() + 2000
    while time > util.current_time_millis() do
        for i = 1, 10 do
            coords = player_coords(pid)
            AUDIO.PLAY_SOUND_FROM_COORD(-1, "MP_MISSION_COUNTDOWN_SOUNDSET", coords.x, coords.y, coords.z, "5s", true, 10, false)
        end
        util.yield()
    end

    mem = memory.read_int(memory.script_global(1893551 + (1 + (pid * 599) + 510)))
    util.trigger_script_event(1 << pid, {-393294520, pid, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem})
    util.trigger_script_event(1 << pid, {962740265, pid, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem})
    util.trigger_script_event(1 << pid, {-1386010354, pid, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem})
    util.trigger_script_event(1 << pid, {2112408256, pid, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem, mem})
end












apply_force_to_ped_vehicle = function(vehicle, x, y, z)
    if vehicle ~= 0 then
        request_control_of_entity(vehicle, 1)
        ENTITY.APPLY_FORCE_TO_ENTITY_CENTER_OF_MASS(vehicle, 1, x, y, z, true, false, true)
    end
end
